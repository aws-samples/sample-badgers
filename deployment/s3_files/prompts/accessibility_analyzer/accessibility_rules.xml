<?xml version="1.0" encoding="UTF-8"?>
<accessibility_rules>
    <critical_rules>
        <rule id="R001" priority="CRITICAL">
            <title>Complete Coverage</title>
            <description>Every content element from the input MUST be represented in the structure
                tree, either as a tagged element or explicitly marked as an artifact.</description>
            <rationale>Untagged content is invisible to assistive technology, creating accessibility
                barriers.</rationale>
        </rule>

        <rule id="R002" priority="CRITICAL">
            <title>Proper Reading Order</title>
            <description>Structure elements must be ordered to reflect the logical reading sequence,
                not just visual layout position.</description>
            <rationale>Screen readers read content in structure tree order. Incorrect order makes
                content incomprehensible.</rationale>
            <example>In a two-column layout, read left column top-to-bottom, then right column
                top-to-bottom, not alternating between columns.</example>
        </rule>

        <rule id="R003" priority="CRITICAL">
            <title>Heading Hierarchy</title>
            <description>Heading levels must not skip levels. H1 → H2 → H3 is correct. H1 → H3 is
                incorrect.</description>
            <rationale>Screen reader users navigate by heading levels. Skipped levels break
                navigation and understanding of document structure.</rationale>
        </rule>

        <rule id="R004" priority="CRITICAL">
            <title>Alternative Text Required</title>
            <description>All Figure elements must have meaningful alternative text that describes
                the content and purpose of the image.</description>
            <rationale>WCAG 1.1.1 requirement. Without alt text, images are inaccessible to blind
                users.</rationale>
            <guidelines>
                <guideline>Describe what the image shows and why it's included</guideline>
                <guideline>For charts/graphs, describe the data and trends</guideline>
                <guideline>For diagrams, describe the relationships shown</guideline>
                <guideline>Avoid "image of" or "picture of" - just describe the content</guideline>
                <guideline>Keep concise but informative (typically 1-2 sentences)</guideline>
            </guidelines>
        </rule>

        <rule id="R005" priority="CRITICAL">
            <title>Proper Nesting</title>
            <description>Structure elements must be properly nested according to their
                relationships.</description>
            <requirements>
                <requirement>Sect elements contain their headings and content</requirement>
                <requirement>List (L) elements contain list items (LI)</requirement>
                <requirement>List items (LI) contain labels (Lbl) and bodies (LBody)</requirement>
                <requirement>Table elements contain rows (TR), which contain cells (TH/TD)</requirement>
            </requirements>
        </rule>
    </critical_rules>

    <structural_rules>
        <rule id="R101">
            <title>Single Document Root</title>
            <description>The structure tree must have exactly one Document root element containing
                all other elements.</description>
        </rule>

        <rule id="R102">
            <title>Section Grouping</title>
            <description>Use Sect elements to group related content (heading + paragraphs +
                subsections).</description>
            <benefit>Enables screen reader users to skip entire sections and understand document
                organization.</benefit>
        </rule>

        <rule id="R103">
            <title>One H1 Per Document</title>
            <description>Typically, use only one H1 element per document (the main title).</description>
            <exception>Multi-part documents may have H1 for each major part.</exception>
        </rule>

        <rule id="R104">
            <title>Heading Content</title>
            <description>Headings should be concise and descriptive of the section content.</description>
            <avoid>Empty headings, headings with only punctuation, or non-descriptive text like
                "Section 1"</avoid>
        </rule>
    </structural_rules>

    <artifact_rules>
        <rule id="R201">
            <title>Identify Artifacts</title>
            <description>Mark the following as artifacts, not content:</description>
            <artifact_types>
                <type>Page numbers</type>
                <type>Running headers and footers</type>
                <type>Watermarks</type>
                <type>Decorative images (logos in margins, background patterns)</type>
                <type>Decorative lines and borders</type>
                <type>Repeated navigation elements</type>
            </artifact_types>
        </rule>

        <rule id="R202">
            <title>Artifact Subtypes</title>
            <description>Specify artifact type for clarity:</description>
            <types>
                <type name="Pagination">Page numbers, running headers/footers</type>
                <type name="Layout">Decorative lines, borders, spacing elements</type>
                <type name="Page">Watermarks, background images</type>
            </types>
        </rule>

        <rule id="R203">
            <title>Content vs. Decoration</title>
            <description>Distinguish between content and decoration:</description>
            <content>Logos in article headers (part of branding/authorship) = Content (Figure)</content>
            <decoration>Logos in page margins repeated on every page = Artifact</decoration>
        </rule>
    </artifact_rules>

    <cross_reference_rules>
        <rule id="R301">
            <title>Footnote References</title>
            <description>Link footnote markers in text to their corresponding footnote content.</description>
            <implementation>
                <step>Assign ID to each Note element (e.g., ID="Note1")</step>
                <step>Create Reference element at marker location with RefID="Note1"</step>
            </implementation>
        </rule>

        <rule id="R302">
            <title>Figure References</title>
            <description>Link figure references in text (e.g., "see Figure 1") to the actual figure.</description>
            <implementation>
                <step>Assign ID to each Figure element (e.g., ID="Fig1")</step>
                <step>Create Reference element at mention with RefID="Fig1"</step>
            </implementation>
        </rule>

        <rule id="R303">
            <title>Hyperlinks</title>
            <description>Mark URLs and hyperlinks with Link elements including Href attribute.</description>
        </rule>
    </cross_reference_rules>

    <content_specific_rules>
        <rule id="R401">
            <title>Author Affiliations</title>
            <description>Author names with superscript affiliation numbers should link to
                affiliation footnotes.</description>
            <structure>
                <author_paragraph>Contains author names with Reference elements for superscripts</author_paragraph>
                <affiliation_notes>Note elements with corresponding IDs</affiliation_notes>
            </structure>
        </rule>

        <rule id="R402">
            <title>Keywords Section</title>
            <description>Keywords in highlighted boxes should be tagged as Aside with appropriate
                heading.</description>
        </rule>

        <rule id="R403">
            <title>Copyright Notices</title>
            <description>Copyright and publication information at page bottom should be tagged as P
                with Role="Copyright" or similar, not as artifacts.</description>
            <rationale>This is legal/publication information that users may need to access.</rationale>
        </rule>

        <rule id="R404">
            <title>Multi-Column Layout</title>
            <description>For multi-column layouts, establish reading order that follows natural
                flow:</description>
            <typical_order>Left column top-to-bottom, then right column top-to-bottom</typical_order>
            <exception>If content flows across columns (newspaper style), follow that flow</exception>
        </rule>

        <rule id="R405">
            <title>Tables</title>
            <description>When tables are present in input, create proper table structure:</description>
            <requirements>
                <requirement>Use Table element as container</requirement>
                <requirement>First row typically contains TH (header) cells</requirement>
                <requirement>Subsequent rows contain TD (data) cells</requirement>
                <requirement>Add Scope attribute to TH cells (row/column)</requirement>
            </requirements>
        </rule>

        <rule id="R406">
            <title>Lists</title>
            <description>When list items are identified, create proper list structure:</description>
            <structure>
                <L>List container</L>
                <LI>List item container <Lbl>Bullet or number</Lbl>
                    <LBody>Item content</LBody>
                </LI>
            </structure>
        </rule>
    </content_specific_rules>

    <metadata_rules>
        <rule id="R501">
            <title>Document Language</title>
            <description>Specify document language (e.g., "en-US", "en-GB", "es", "fr").</description>
            <rationale>Required for proper pronunciation by screen readers.</rationale>
        </rule>

        <rule id="R502">
            <title>Document Title</title>
            <description>Include document title in metadata (typically same as H1 content).</description>
        </rule>

        <rule id="R503">
            <title>Author Information</title>
            <description>Include author names in metadata when available.</description>
        </rule>

        <rule id="R504">
            <title>Subject/Keywords</title>
            <description>Include subject matter and keywords in metadata when available.</description>
        </rule>
    </metadata_rules>

    <validation_rules>
        <rule id="R601">
            <title>Element Count Match</title>
            <description>Verify that the number of structure elements (excluding artifacts) matches
                or accounts for all input elements.</description>
        </rule>

        <rule id="R602">
            <title>No Orphaned Elements</title>
            <description>Every structure element must have a parent (except Document root).</description>
        </rule>

        <rule id="R603">
            <title>Content Reference Completeness</title>
            <description>Every structure element should have a content reference (MCR) pointing to
                the visual content location.</description>
        </rule>

        <rule id="R604">
            <title>ID Uniqueness</title>
            <description>All ID attributes must be unique within the document.</description>
        </rule>

        <rule id="R605">
            <title>Reference Validity</title>
            <description>All RefID attributes must point to existing ID values.</description>
        </rule>
    </validation_rules>
</accessibility_rules>